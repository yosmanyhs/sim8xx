/**
 * @file Sim8xx.c
 * @brief
 */

/*****************************************************************************/
/* INCLUDES                                                                  */
/*****************************************************************************/
#include "Sim8xx.h"
#include "Modem/Modem.h"

/*****************************************************************************/
/* DEFINED CONSTANTS                                                         */
/*****************************************************************************/

/*****************************************************************************/
/* TYPE DEFINITIONS                                                          */
/*****************************************************************************/

/*****************************************************************************/
/* MACRO DEFINITIONS                                                         */
/*****************************************************************************/

/*****************************************************************************/
/* DEFINITION OF GLOBAL CONSTANTS AND VARIABLES                              */
/*****************************************************************************/
#if !defined(TEST)
static 
#endif
GSM_Modem_t sim8xx;

/*****************************************************************************/
/* DECLARATION OF LOCAL FUNCTIONS                                            */
/*****************************************************************************/

/*****************************************************************************/
/* DEFINITION OF LOCAL FUNCTIONS                                             */
/*****************************************************************************/

/*****************************************************************************/
/* DEFINITION OF GLOBAL FUNCTIONS                                            */
/*****************************************************************************/
void SIM_Init(void)
{
    GSM_ModemObjectInit(&sim8xx);
}

bool SIM_BluetoothRegisterCallback(GSM_BluetoothCb_t cb)
{
    return GSM_ModemRegisterBluetoothCallback(&sim8xx, cb);
}


bool SIM_Start(void)
{
    //TODO: start serial

    // TODO: stop blabla
}

bool SIM_Stop(void)
{

}

size_t SIM_ProcessInput(const char ibuf[], size_t ilen)
{
    return GSM_ModemParse(&sim8xx, ibuf, ilen);
}

/****************************** END OF FILE **********************************/
